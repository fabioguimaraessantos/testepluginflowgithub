/*
 * @(#) historicoPercentualIntercomp.java
 * Copyright (c) 2008 Ci&T Software S/A.
 * All Rights Reserved.
 */
package com.ciandt.pms.model;

import java.util.Calendar;
import java.util.Date;

import javax.persistence.*;

/**
 * Entity gerado a partir da tabela HISTORICO_PERCENTUAL_INTERCOMP.
 *
 * @author Generated by Hibernate Tools 3.6.0
 * @since 06/12/2013 16:56:59
 * @version 09/01/19 1.1 10:08:00
 */
@Entity
@Table(name = "HISTORICO_PERCENTUAL_INTERCOMP")
@NamedQueries({
		@NamedQuery(name = "HistoricoPercentualIntercomp.findAll", query = "SELECT t FROM HistoricoPercentualIntercomp t"),
		@NamedQuery(name = "HistoricoPercentualIntercomp.findByDealFiscal", query = "SELECT t FROM HistoricoPercentualIntercomp t where t.dealFiscal.codigoDealFiscal = ?")
})




public class HistoricoPercentualIntercomp implements java.io.Serializable {

	/**
	 * Valor do serialVersionUID.
	 */
	private static final long serialVersionUID = 1L;

	/** 
	 * Constante para NamedQuery "historicoPercentualIntercomp.findAll".
	 */
	public static final String FIND_ALL = "HistoricoPercentualIntercomp.findAll";


	public static final String FIND_BY_DEAL_FISCAL = "HistoricoPercentualIntercomp.findByDealFiscal";

	/**
	 * Atributo gerado a partir da coluna CORS_CD_CONTROLE_REAJ_STATUS.
	 */
	@Id
	@GeneratedValue(generator = "historicoPercentualIntercompSeq")
	@SequenceGenerator(name = "historicoPercentualIntercompSeq", sequenceName = "SQ_HIPI_CD_HISTORICO_PR_INTER", allocationSize = 1)
	@Column(name = "HIPI_CD_HISTORICO_PR_INTERCOM", unique = true, nullable = false, precision = 18, scale = 0)
	private Long codigoHistoricoPercentualIntercomp;

	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumn(name = "DEFI_CD_DEAL_FISCAL", nullable = false)
	private DealFiscal dealFiscal;

	@Column(name = "HIPI_PR_INTERCOMPANY", unique = true, nullable = false, precision = 10, scale = 5)
	private Double percentualIntercompany;

	@Temporal(TemporalType.DATE)
	@Column(name = "HIPI_DT_INICIO", length = 7)
	private Date dataInicio;

	@Temporal(TemporalType.DATE)
	@Column(name = "HIPI_DT_FIM", length = 7, nullable = true)
	private Date dataFim;

	/**
	 * Atributo gerado a partir da coluna EMPR_CD_EMP_INTERCOMP.
	 */
	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumn(name = "EMPR_CD_EMP_INTERCOMP")
	private Empresa empresaIntercomp;

	/**
	 * Atributo gerado a partir da coluna EMPR_CD_EMP_INTERMEDIATE.
	 */
	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumn(name = "EMPR_CD_EMP_INTERMEDIATE", nullable = true)
	private Empresa empresaIntercompIntermediate;

	@Column(name = "HIPI_PR_INTERMEDIATE", unique = true, nullable = false, precision = 10, scale = 5)
	private Double percentualIntermediate;

	/**
	 * Construtor default.
	 */
	public HistoricoPercentualIntercomp() {
	}

	public HistoricoPercentualIntercomp(Double percentual, DealFiscal dealFiscal, Double percentualIntermediate, Empresa empresaIntermediate) {
		this.percentualIntercompany = percentual;
		this.dealFiscal = dealFiscal;
		this.dataInicio = this.getInitialDatePeriod();
		this.empresaIntercomp = dealFiscal.getEmpresaIntercomp();
		this.percentualIntermediate = percentualIntermediate;
		this.empresaIntercompIntermediate = empresaIntermediate;
		dealFiscal.getHistoricoPercentualIntercomps().add(this);
	}

	public Date getInitialDatePeriod() {
		Calendar cal = Calendar.getInstance(); // locale-specific
		cal.setTime(new Date());
		cal.set(Calendar.DAY_OF_MONTH, 1);
		cal.set(Calendar.HOUR_OF_DAY, 0);
		cal.set(Calendar.MINUTE, 0);
		cal.set(Calendar.SECOND, 0);
		cal.set(Calendar.MILLISECOND, 0);

		return cal.getTime();
	}

	/**
	 * Construtor com preenchimento da entidade.
	 * @param codigoHistoricoPercentualIntercomp Valor do atributo codigoHistoricoPercentualIntercomp;
	 */
	public HistoricoPercentualIntercomp(Long codigoHistoricoPercentualIntercomp) {
		this.codigoHistoricoPercentualIntercomp = codigoHistoricoPercentualIntercomp;
	}

	/**
	 * @return the codigoHistoricoPercentualIntercomp
	 */
	public Long getCodigoHistoricoPercentualIntercomp() {
		return codigoHistoricoPercentualIntercomp;
	}

	/**
	 * @param codigoHistoricoPercentualIntercomp the codigoHistoricoPercentualIntercomp to set
	 */
	public void setCodigoHistoricoPercentualIntercomp(
			Long codigoHistoricoPercentualIntercomp) {
		this.codigoHistoricoPercentualIntercomp = codigoHistoricoPercentualIntercomp;
	}

	/**
	 * @return the dealFiscal
	 */
	public DealFiscal getDealFiscal() {
		return dealFiscal;
	}

	/**
	 * @param dealFiscal the dealFiscal to set
	 */
	public void setDealFiscal(DealFiscal dealFiscal) {
		this.dealFiscal = dealFiscal;
	}

	/**
	 * @return the percentualIntercompany
	 */
	public Double getPercentualIntercompany() {
		return percentualIntercompany;
	}

	/**
	 * @param percentualIntercompany the percentualIntercompany to set
	 */
	public void setPercentualIntercompany(Double percentualIntercompany) {
		this.percentualIntercompany = percentualIntercompany;
	}

	/**
	 * @return the dataInicio
	 */
	public Date getDataInicio() {
		return dataInicio;
	}

	/**
	 * @param dataInicio the dataInicio to set
	 */
	public void setDataInicio(Date dataInicio) {
		this.dataInicio = dataInicio;
	}

	/**
	 * @return the dataFim
	 */
	public Date getDataFim() {
		return dataFim;
	}

	/**
	 * @param dataFim the dataFim to set
	 */
	public void setDataFim(Date dataFim) {
		this.dataFim = dataFim;
	}

	/**
	 * @return the empresaIntercomp
	 */
	public Empresa getEmpresaIntercomp() {
		return empresaIntercomp;
	}

	/**
	 * @param empresaIntercomp
	 *            the empresaIntercomp to set
	 */
	public void setEmpresaIntercomp(final Empresa empresaIntercomp) {
		this.empresaIntercomp = empresaIntercomp;
	}

	/**
	 * @return the empresaIntercompIntermediate
	 */
	public Empresa getEmpresaIntercompIntermediate() {
		return empresaIntercompIntermediate;
	}

	/**
	 * @param empresaIntercompIntermediate
	 *            the empresaIntercomp to set
	 */
	public void setEmpresaIntercompIntermediate(final Empresa empresaIntercompIntermediate) {
		this.empresaIntercompIntermediate = empresaIntercompIntermediate;
	}

	/**
	 * @return the percentualIntermediate
	 */
	public Double getPercentualIntermediate() {
		return percentualIntermediate;
	}

	/**
	 * @param percentualIntermediate the percentualIntermediate to set
	 */
	public void setPercentualIntermediate(Double percentualIntermediate) {
		this.percentualIntermediate = percentualIntermediate;
	}
	@Transient
	private Boolean canEdit = Boolean.FALSE;
	/**
	 * @param canEdit
	 *            the canEdit to set
	 */
	public void setCanEdit(final Boolean canEdit) {
		this.canEdit = canEdit;
	}

	/**
	 * @return the canEdit
	 */
	public Boolean getCanEdit() { return canEdit;	}

}