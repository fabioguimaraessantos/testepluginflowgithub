<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

	<ui:composition template="/WEB-INF/templates/formLayout.xhtml">
	
		<ui:define name="titleForm">
			<h:panelGrid columns="1" cellpadding="0" cellspacing="0">
		        <h:outputLabel value="#{bundle['_nls.menu.horas_faturadas_deal']} &gt; #{bundle['_nls.menu.horas_faturadas_deal.view']}" 
		        		rendered="#{!horasFaturadasDealController.bean.isRemove}"/>
		        <h:outputLabel value="#{bundle['_nls.menu.horas_faturadas_deal']} &gt; #{bundle['_nls.menu.horas_faturadas_deal.delete']}" 
		        		rendered="#{horasFaturadasDealController.bean.isRemove}"/>
	        </h:panelGrid>
	   	</ui:define>
	   	
		<ui:define name="bodyForm">
			<rich:spacer height="0" width="560" styleClass="noMargin" />
			<h:form styleClass="noMargin">
				<h:panelGrid columns="2">
					<h:outputLabel value="#{bundle['_nls.horas_faturadas_deal.deal.label']}" 
							styleClass="labelGeneric" />
					<h:outputLabel value="#{horasFaturadasDealController.bean.to.deal.nomeDeal}" 
							for="nomeDeal" />
				
					<h:outputLabel value="#{bundle['_nls.horas_faturadas_deal.indicador_versao.label']}" 
							styleClass="labelGeneric" />
					<h:outputLabel value="#{horasFaturadasDealController.bean.to.indicadorVersao}" 
							for="indicadorVersao" converter="VersionHorasFaturadasDealConverter" />
					
					<h:outputLabel value="#{bundle['_nls.horas_faturadas_deal.data_mes.label']}" 
							styleClass="labelGeneric" />
					<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
						<h:outputText value="#{horasFaturadasDealController.bean.validityMonth}" for="validityMonth" />
						<h:outputText value="/" styleClass="labelGeneric"></h:outputText>
						<h:outputText value="#{horasFaturadasDealController.bean.validityYear}" for="validityYear" />
					</h:panelGrid>
					
					<rich:spacer height="5" /><rich:spacer height="5" />
					
					<f:facet name="footer">
						<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
							<a4j:commandButton value="#{bundle['_nls.button.delete']}" styleClass="buttonGeneric" 
									oncomplete="#{rich:component('deleteHorasFaturadasDealPanel')}.show()" 
									rendered="#{horasFaturadasDealController.bean.isRemove}"/>
							<rich:spacer height="5" width="5" rendered="#{horasFaturadasDealController.bean.isRemove}"/>
							<a4j:commandButton value="#{bundle['_nls.button.back']}" styleClass="buttonGeneric" 
									action="horasFaturadasDeal_research" immediate="true" /> 
						</h:panelGrid>
					</f:facet>					
				</h:panelGrid>
				
				<rich:spacer height="5" styleClass="noMargin"/>
				
				<!-- ****** Botoes Tag ****** -->
				<rich:panel style="padding:0" headerClass="outpanelHeader">
				  	<f:facet name="header"></f:facet>
			        
					<h:panelGrid columns="6" cellpadding="0" cellspacing="0">
						<h:outputText value="#{bundle['_nls.horas_faturadas_deal.etiqueta.label']}"
							for="etiqueta" styleClass="labelGeneric" />
							
						<rich:spacer height="5" width="5" />
						
						<rich:comboBox id="etiqueta"
							label="#{bundle['_nls.horas_faturadas_deal.etiqueta.label']}"
							value="#{horasFaturadasDealController.bean.nomeEtiquetaSelected}"
							suggestionValues="#{horasFaturadasDealController.bean.etiquetaList}"
							directInputSuggestions="true" 
							enableManualInput="false">
						</rich:comboBox>
		                
		                <rich:spacer height="5" width="5" />
						
						<a4j:commandLink ajaxSingle="false" id="filterEtiquetalink"
		                    	action="#{horasFaturadasDealController.filterEtiqueta}">
		                    <h:graphicImage width="16" height="16" value="/images/icons/filter.gif" style="border:0"/>
		                </a4j:commandLink>
		                <rich:toolTip for="filterEtiquetalink" value="#{bundle['_nls.hint.filter']}"/>
					</h:panelGrid>
				</rich:panel>
				<!-- ******************************* -->
			
				<rich:spacer height="5" styleClass="noMargin"/>
			
				<a4j:keepAlive beanName="horasFaturadasDealBean" />
				<a4j:region>
					<h:panelGrid columns="1" cellpadding="0" cellspacing="0" border="0" width="100%">	
															                
		                <a4j:outputPanel id="itemHrsFatDealTable">
				        <table border="1" class="dr-table rich-table" width="100%">
				        	<thead class="dr-table-thead">
				                <tr class="dr-table-header rich-table-header">
				                    <th class="dr-table-headercell rich-table-headercell" colspan="8">
				                    	<h:outputLabel value="#{bundle['_nls.horas_faturadas_deal.item_hrs_fat_deal.label']}" />
				                    </th>
				                </tr>
				            </thead>
				        	<thead class="dr-table-thead">
				                <tr class="dr-table-subheader rich-table-subheader">
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.codigo_login_pessoa.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.perfil_vendido.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.numero_horas.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.numero_fte.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.valor_hrs.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.valor_fte.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.receita.label']}" /></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"><h:outputLabel value="#{bundle['_nls.item_hrs_fat_deal.lista_etiqueta.label']}" /></th>
				                </tr>
				            </thead>
				            <thead class="dr-table-thead">
				                <tr class="dr-table-subheader rich-table-subheader" style="background-color: #CCCCCC;">
				                    <td class="dr-table-subheadercell rich-table-subheadercell">
				                    	<h:outputLabel value="#{bundle['_nls.total.label']}" styleClass="labelGeneric"/>
				                    </td>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell">
										<h:outputText value="#{horasFaturadasDealController.bean.totalHrs}" >
											<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number.1']}" />
										</h:outputText>
				                    </th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell">
										<h:outputText value="#{horasFaturadasDealController.bean.totalFte}" >
											<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number.1']}" />
										</h:outputText>
				                    </th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"></th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell" align="right">
				                    	<h:outputLabel value="#{horasFaturadasDealController.bean.patternCurrency}" />
										<h:outputText value="#{horasFaturadasDealController.bean.totalAmount}" >
											<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number']}" />
										</h:outputText>
				                    </th>
				                    <th class="dr-table-subheadercell rich-table-subheadercell"></th>
				                </tr>
				            </thead>
				            <tbody>
				                <a4j:repeat value="#{horasFaturadasDealController.bean.itemHrsFatDealRowList}" var="item">
				                	<!-- ****** Region View ****** -->
				                	<a4j:region rendered="#{item.isView}">
				                    <tr>
				                        <td class="dr-subtable-cell rich-subtable-cell">
				                            <h:outputText value="#{item.itemHrsFatDeal.pessoa.codigoLogin}" />
				                        </td>
				                        <td class="dr-subtable-cell rich-subtable-cell">
				                            <h:outputText value="#{item.itemHrsFatDeal.perfilVendido.nomePerfilVendido}" />
				                        </td>
				                        <td class="dr-subtable-cell rich-subtable-cell" align="center">
				                            <h:outputText value="#{item.numberHours}">
				                            	<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number.1']}"  />
				                            </h:outputText>
				                        </td>
				                        <td class="dr-subtable-cell rich-subtable-cell" align="center">
				                            <h:outputText value="#{item.itemHrsFatDeal.numeroFte}">
				                            	<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number.1']}"  />
				                            </h:outputText>
				                        </td>
				                        <td class="dr-subtable-cell rich-subtable-cell" align="right">
				                            <h:outputLabel value="#{horasFaturadasDealController.bean.patternCurrency}" />
											<h:outputText value="#{item.hrsPrice}" >
												<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number']}"  />
											</h:outputText>
				                        </td>
				                        <td class="dr-subtable-cell rich-subtable-cell" align="right">
				                            <h:outputLabel value="#{horasFaturadasDealController.bean.patternCurrency}" />
											<h:outputText value="#{item.ftePrice}" >
												<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number']}"  />
											</h:outputText>
				                        </td>
				                        <td class="dr-subtable-cell rich-subtable-cell" align="right">
				                            <h:outputLabel value="#{horasFaturadasDealController.bean.patternCurrency}" />
											<h:outputText value="#{item.amountValue}" >
												<f:convertNumber locale="#{bundle['locale.en_us']}" pattern="#{systemProperties['pattern.number']}"  />
											</h:outputText>
										</td>
										<td class="dr-subtable-cell rich-subtable-cell">
				                        	<h:outputText id="etiquetaItemHrsFatDeallabel" value="#{item.etiquetaNamesPart}" />
							                <rich:toolTip for="etiquetaItemHrsFatDeallabel" value="#{item.etiquetaNames}" />
				                        </td>
				                    </tr>
				                    </a4j:region> <!-- ********** / isView ********** -->
					                <!-- ******************************* -->
				                </a4j:repeat>
				            </tbody>
				        </table>
				        </a4j:outputPanel>
				        
				        <rich:spacer height="5" />
					
					</h:panelGrid>					
				</a4j:region>
			</h:form>
			
			<ui:include src="/pages/protected/horasFaturadasDeal/HorasFaturadasDealDelete.xhtml" />
			
		</ui:define>
	
	</ui:composition>

</html>