<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j">

<ui:composition>
    <h:form>

    <h:panelGrid columns="1">
        <h:outputText for="companyName" styleClass="labelGeneric"
                      value="#{bundle['_nls.menu.cost_center.nome_empresa']}"
                      rendered="#{grupoCustoController.bean.to.empresa.nomeEmpresa != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.empresa.nomeEmpresa}"
                      rendered="#{grupoCustoController.bean.to.empresa.nomeEmpresa != null}"/>

        <h:outputText for="name" styleClass="labelGeneric"
                      value="#{bundle['_nls.grupo_custo.nome_grupo_custo.label']}"/>
        <h:outputText value="#{grupoCustoController.bean.to.nomeGrupoCusto}" />

        <h:outputText for="description" styleClass="labelGeneric"
                      value="#{bundle['_nls.grupo_custo.descricao_grupo_custo.label']}"
                      rendered="#{grupoCustoController.bean.to.descricaoGrupoCusto != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.descricaoGrupoCusto}"
                      rendered="#{grupoCustoController.bean.to.descricaoGrupoCusto != null}" />

        <h:outputText for="area" styleClass="labelGeneric"
                      value="#{bundle['_nls.grupo_custo.area.label']}"
                      rendered="#{grupoCustoController.bean.to.area.nomeArea != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.area.nomeArea}"
                      rendered="#{grupoCustoController.bean.to.area.nomeArea != null}" />

        <h:outputText for="approver" styleClass="labelGeneric"
                      value="#{bundle['_nls.contrato_pratica.cost_center.approver.label']}"
                      rendered="#{grupoCustoController.bean.to.aprovador != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.aprovador.codigoLogin}"
                      rendered="#{grupoCustoController.bean.to.aprovador != null}" />

        <h:outputText for="managerApprover" styleClass="labelGeneric"
                      value="#{bundle['_nls.contrato_pratica.cost_center.approver_manager.label']}"
                      rendered="#{grupoCustoController.bean.to.gerenteAprovador != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.gerenteAprovador.codigoLogin}"
                      rendered="#{grupoCustoController.bean.to.gerenteAprovador != null}" />

        <h:outputText for="costCenterHierarchy" styleClass="labelGeneric"
                      value="#{bundle['_nls.menu.cost_center_hierarchy']}"
                      rendered="#{grupoCustoController.bean.to.costCenterHierarchy.name != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.costCenterHierarchy.name}"
                      rendered="#{grupoCustoController.bean.to.costCenterHierarchy.name != null}" />

        <h:outputText for="costCenterHierarchyStatus" styleClass="labelGeneric"
                      value="#{bundle['_nls.menu.cost_center_hierarchy']} #{bundle['_nls.cost_center_hierarchy.status.label']}"
                      rendered="#{grupoCustoController.bean.to.costCenterHierarchy.inActive != null}"/>
        <h:outputText value="#{grupoCustoController.bean.to.costCenterHierarchy.inActive}"
                      converter="ActiveInactiveConverter"
                      rendered="#{grupoCustoController.bean.to.costCenterHierarchy.inActive != null}"/>

        <h:outputText for="costcenterpai" styleClass="labelGeneric"
                      value="#{bundle['_nls.cost_center.parent_cost_center.label']}"
                      rendered="#{grupoCustoController.bean.parentCostCenterSelected.shortCode != null}" />
        <h:outputText value="#{grupoCustoController.bean.parentCostCenterSelected.extensiveCode} - #{grupoCustoController.bean.parentCostCenterSelected.description}"
                      rendered="#{grupoCustoController.bean.parentCostCenterSelected.shortCode != null}" />

        <h:outputText for="projetooverheadpai" styleClass="labelGeneric"
                      value="#{bundle['_nls.cost_center.parent_overhead_project.label']}"
                      rendered="#{grupoCustoController.bean.parentOverheadProjectSelected.shortCode != null}" />
        <h:outputText value="#{grupoCustoController.bean.parentOverheadProjectSelected.extensiveCode} - #{grupoCustoController.bean.parentOverheadProjectSelected.description}"
                      rendered="#{grupoCustoController.bean.parentCostCenterSelected.shortCode != null}" />

        <h:outputText for="startDate" styleClass="labelGeneric"
                      value="#{bundle['_nls.contrato_pratica.cost_center.date.label']}"
                      rendered="#{grupoCustoController.bean.to.dataImplantacao != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.dataImplantacao}"
                      rendered="#{grupoCustoController.bean.to.dataImplantacao != null}" />

        <h:outputText for="status" styleClass="labelGeneric"
                      value="#{bundle['_nls.grupo_custo.indicador_ativo.label']}" />
        <h:outputText value="#{grupoCustoController.bean.to.grupoCustoStatus.nomeStatus}"/>

        <h:outputText for="inactivationDate" styleClass="labelGeneric"
                      value="#{bundle['_nls.grupo_custo.date.inactivation']}"
                      rendered="#{grupoCustoController.bean.to.dataInativacao != null}" />
        <h:outputText value="#{grupoCustoController.bean.to.dataInativacao}"
                      rendered="#{grupoCustoController.bean.to.dataInativacao != null}" />

    </h:panelGrid>

    <rich:spacer height="5" />
    <rich:spacer height="5" />

    <a4j:outputPanel rendered="#{!empty grupoCustoController.bean.to.grupoCustoAreaOrcamentarias}">
        <div class="dr-pnl-h rich-panel-header" style="height: 15px;">
            <h:outputLabel value="Budget Area History" styleClass="labelGeneric" />
        </div>
    </a4j:outputPanel>

    <a4j:outputPanel>
        <rich:dataTable rendered="#{!empty grupoCustoController.bean.to.grupoCustoAreaOrcamentarias}"
                        value="#{grupoCustoController.bean.to.grupoCustoAreaOrcamentarias}" var="item" width="100%" id="gcaoTable">

            <rich:column style="text-align: center;" width="63px">
                <f:facet name="header">
                    <h:outputText value="Code" />
                </f:facet>
                <h:outputText value="#{item.areaOrcamentaria.codigoAreaOrcamentaria}" />
            </rich:column>

            <rich:column style="text-align: left;" width="135px">
                <f:facet name="header">
                    <h:outputText value="Budget Area / Budget Sub-Area" />
                </f:facet>
                <h:outputText value="#{item.areaOrcamentaria.areaOrcamentariaPai.nomeAreaOrcamentaria}" />
                <h:outputText value=" / " />
                <h:outputText value="#{item.areaOrcamentaria.nomeAreaOrcamentaria}" />
            </rich:column>

            <rich:column style="text-align: center;" width="106px">
                <f:facet name="header">
                    <h:outputText value="Start Date" />
                </f:facet>
                <h:outputText value="#{item.dataInicio}">
                    <f:convertDateTime pattern="MMM/yyyy" />
                </h:outputText>
                <h:outputText rendered="#{item.dataInicio == null}" value="-" />
            </rich:column>

            <rich:column style="text-align: center;" width="99px">
                <f:facet name="header">
                    <h:outputText value="End Date" />
                </f:facet>
                <h:outputText rendered="#{item.dataFim == null}" value="-" />
                <h:outputText value="#{item.dataFim}">
                    <f:convertDateTime pattern="MMM/yyyy" />
                </h:outputText>
            </rich:column>
        </rich:dataTable>
    </a4j:outputPanel>

    <rich:spacer height="15" />
    <rich:spacer height="15" />

    <rich:dataTable value="#{grupoCustoController.bean.to.grupoCustoPeriodos}" var="itemGCPeriodo" width="100%"
                    id="gcPeriodoTable">

        <rich:column style="text-align: left; background-color: #D6E6FB;" colspan="2">
            <h:panelGrid columns="3" cellpadding="0" cellspacing="0">
                <h:outputLabel value="#{bundle['_nls.grupo_custo_periodo.vigencia.label']}:" styleClass="labelGeneric" />
                <h:panelGrid columns="6" cellpadding="0" cellspacing="0">
                    <rich:spacer height="5" width="5" />

                    <h:outputText value="#{itemGCPeriodo.dataInicio}" for="dataInicio">
                        <f:convertDateTime pattern="MMM/yyyy" locale="#{bundle['locale.en_us']}" />
                    </h:outputText>

                    <rich:spacer height="5" width="5" />
                    <h:outputLabel rendered="#{itemGCPeriodo.dataFim != null}" value="#{bundle['_nls.until.label']}"
                                   styleClass="labelGeneric" />
                    <h:outputLabel rendered="#{itemGCPeriodo.dataFim == null}" value="..." styleClass="labelGeneric" />
                    <rich:spacer height="5" width="5" />

                    <h:outputText value="#{itemGCPeriodo.dataFim}" for="dataFim">
                        <f:convertDateTime pattern="MMM/yyyy" locale="#{bundle['locale.en_us']}" />
                    </h:outputText>
                </h:panelGrid>
            </h:panelGrid>
        </rich:column>

        <rich:subTable var="itemGCCL" value="#{itemGCPeriodo.grupoCustoCentroLucros}">
            <rich:column style="text-align: left;" width="30%">
                <h:outputText rendered="#{itemGCCL.naturezaCentroLucro.nomeNatureza  != null}"
                              value="#{itemGCCL.naturezaCentroLucro.nomeNatureza}: " styleClass="labelGeneric" />

                <h:outputText rendered="#{itemGCCL.naturezaCentroLucro.nomeNatureza == null}" value="-"
                              styleClass="labelGeneric" />
            </rich:column>

            <rich:column style="text-align: left;">
                <h:outputText value="#{itemGCCL.nomeCentroLucro}" />
                <h:outputText rendered="#{itemGCCL.nomeCentroLucro == null}" value="-" />
            </rich:column>
        </rich:subTable>
    </rich:dataTable>

    <rich:spacer height="5" />
    <rich:spacer height="5" />

    <a4j:outputPanel rendered="#{empty grupoCustoController.bean.to.grupoCustoPeriodos}">
        <div class="dr-pnl-h rich-panel-header" style="height: 15px;">
            <h:outputLabel value="Period:" styleClass="labelGeneric" />
        </div>
        <div style="text-align: center;">
            <h:outputLabel value="No results" style="text-align: center;" />
        </div>
    </a4j:outputPanel>

    <rich:spacer height="5" styleClass="noMargin" />

    <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
        <h:panelGrid columns="4" cellpadding="0" cellspacing="0">
            <rich:spacer height="30" styleClass="noMargin" />
            <a4j:commandButton value="#{bundle['_nls.button.back']}" styleClass="buttonGeneric" action="costCenter_search"
                               immediate="true" />
            <rich:spacer height="5" width="5" rendered="#{grupoCustoController.bean.isRemove}" styleClass="noMargin" />
            <a4j:commandButton value="#{bundle['_nls.button.delete']}" styleClass="buttonGeneric"
                               oncomplete="#{rich:component('deleteGrupoCustoPanel')}.show()"
                               rendered="#{grupoCustoController.bean.isRemove}" />

        </h:panelGrid>
    </h:panelGrid>
    </h:form>

    <rich:modalPanel id="deleteGrupoCustoPanel" autosized="true" width="200">
        <f:facet name="header">
            <h:outputText value="#{bundle['_nls.grupo_custo.delete.title']}" style="padding-right:15px;" />
        </f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="/images/icons/close.gif" styleClass="hidelink" id="hidelinkDeleteGrupoCusto" />
                <rich:componentControl for="deleteGrupoCustoPanel" attachTo="hidelinkDeleteGrupoCusto" operation="hide"
                                       event="onclick" />
            </h:panelGroup>
        </f:facet>
        <h:form>
            <table width="100%">
                <tbody>
                <tr>
                    <td align="center" width="50%">
                        <a4j:commandButton value="#{bundle['_nls.button.ok']}" ajaxSingle="true"
                                           action="#{grupoCustoController.remove}"
                                           oncomplete="#{rich:component('deleteGrupoCustoPanel')}.hide();" styleClass="buttonGeneric" />
                    </td>
                    <td align="center" width="50%">
                        <a4j:commandButton value="#{bundle['_nls.button.cancel']}" styleClass="buttonGeneric"
                                           onclick="#{rich:component('deleteGrupoCustoPanel')}.hide();return false;" />
                    </td>
                </tr>
                </tbody>
            </table>
        </h:form>
    </rich:modalPanel>
</ui:composition>
</html>
