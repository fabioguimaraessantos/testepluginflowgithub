<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:pms="http://pms.cit.com.br">


<ui:composition template="/WEB-INF/templates/formLayout.xhtml">

	<ui:define name="titleForm">
        #{bundle['_nls.menu.fechamento']} &gt; #{bundle['_nls.menu.dre_processos_fechamento']} &gt; #{bundle['_nls.menu.dre_processos_fechamento.validate']}
	</ui:define>

	<ui:define name="bodyForm">
        <div class="process-execution" style="display: none;"></div>
		<rich:spacer height="0" width="560" styleClass="noMargin" />

		<div style="max-height: 150px; overflow: auto;">

			<h:outputText value="#{dreProcessosController.bean.msgError}"
				styleClass="msgError" escape="false" 
				rendered="#{dreProcessosController.bean.msgError != ''}" />
			<h:outputText value="#{dreProcessosController.bean.msgSuccess}"
				styleClass="msgSuccess" escape="false" 
				rendered="#{dreProcessosController.bean.msgSuccess != ''}" />
		</div>

		<rich:spacer height="0" width="560" styleClass="noMargin" />

		<h:form styleClass="noMargin">
			<a4j:loadScript src="/js/utils.js" />
			<a4j:keepAlive beanName="dreProcessosFechamentoBean" />

			<h:panelGrid columns="1">
				<h:outputText
					value="#{bundle['_nls.dre_log_fechamento.texto_log.label']}"
					for="textoLog" styleClass="labelGeneric" />

				<rich:spacer height="5" />

				<h:inputTextarea
					validator="#{xssValidator.validate}"
					cols="100" rows="20" id="textoLog" readonly="true"
					label="#{bundle['_nls.dre_log_fechamento.texto_log.label']}"
					value="#{dreProcessosController.bean.to.textoLog}">
				</h:inputTextarea>

				<rich:spacer height="5" />

				<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
					<a4j:commandButton action="#{dreProcessosController.back}"
						value="#{bundle['_nls.button.back']}" styleClass="buttonGeneric" />
				</h:panelGrid>
			</h:panelGrid>

		</h:form>
		<script>
		   jQuery(".buttonGeneric").click(function() {
               jQuery(".process-execution").show();
           });
        </script>
	</ui:define>

</ui:composition>

</html>