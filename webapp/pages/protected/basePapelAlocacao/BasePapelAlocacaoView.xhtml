<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:sec="http://www.springframework.org/security/facelets/tags">

<ui:composition template="/WEB-INF/templates/formLayout.xhtml">

	<ui:define name="titleForm">
		<h:panelGrid columns="1" cellpadding="0" cellspacing="0">
			<h:outputLabel
				value="#{bundle['_nls.menu.base_papel_alocacao']} &gt; #{bundle['_nls.menu.base_papel_alocacao.view']}"
				rendered="#{!basePapelAlocacaoController.bean.isRemove}" />
			<h:outputLabel
				value="#{bundle['_nls.menu.base_papel_alocacao']} &gt; #{bundle['_nls.menu.base_papel_alocacao.delete']}"
				rendered="#{basePapelAlocacaoController.bean.isRemove}" />
		</h:panelGrid>
	</ui:define>

	<ui:define name="bodyForm">
		<rich:spacer height="0" width="560" styleClass="noMargin" />
		<h:form styleClass="noMargin">
			<a4j:loadScript src="/js/jquery.numeric.js" />
			<h:panelGrid columns="2">
				<h:outputLabel id="codigoBasePapelAlocacao"
					value="#{bundle['_nls.base_papel_alocacao.codigo_base_papel_alocacao.label']}: "
					styleClass="labelGeneric" />
				<h:outputLabel
					value="#{basePapelAlocacaoController.bean.to.papelAlocacao.codigoPapelAlocacao}"
					for="codigoBasePapelAlocacao" />

				<h:outputLabel
					value="#{bundle['_nls.base_papel_alocacao.papel_alocacao.label']}: "
					styleClass="labelGeneric" id="nomePapelAlocacao" />
				<h:outputLabel
					value="#{basePapelAlocacaoController.bean.to.papelAlocacao.nomePapelAlocacao}"
					for="nomePapelAlocacao" />

				<h:outputLabel
					value="#{bundle['_nls.base_papel_alocacao.site.label']}: "
					styleClass="labelGeneric" id="nomeCidadeBase" />
				<h:outputLabel
					value="#{basePapelAlocacaoController.bean.to.cidadeBase.nomeCidadeBase}"
					for="nomeCidadeBase" />

				<h:outputLabel
					value="#{bundle['_nls.base_papel_alocacao.moeda.label']}: "
					styleClass="labelGeneric" id="nomeMoeda" />
				<h:outputLabel
					value="#{basePapelAlocacaoController.bean.to.cidadeBase.moeda.nomeMoeda}"
					for="nomeMoeda" />

				<rich:spacer height="5" />
				<rich:spacer height="5" />

				<f:facet name="footer">
					<h:panelGrid columns="6" cellpadding="0" cellspacing="0">
						<a4j:commandButton value="#{bundle['_nls.button.back']}"
							styleClass="buttonGeneric" action="basePapelAlocacao_research"
							immediate="true" />
						<rich:spacer height="5" width="5" />

					</h:panelGrid>
				</f:facet>
			</h:panelGrid>
		</h:form>

		<rich:spacer height="5" styleClass="noMargin" />

		<rich:panel>
			<f:facet name="header">
				<h:outputText
						value="#{bundle['_nls.menu.custo_base_papel_alocacao']}" />
			</f:facet>

			<h:form styleClass="noMargin">
				<a4j:keepAlive beanName="custoBasePapelAlocacaoBean" />
				<a4j:keepAlive beanName="basePapelAlocacaoBean" />
				<h:panelGrid columns="1" id="custoBasePapelAlocacaoFormFields">
					<h:panelGrid columns="2">
						<h:outputText
								value="#{bundle['_nls.custo_base_papel_alocacao.data_inicio.label']}*: "
								for="dataInicio" styleClass="labelGeneric" />
						<h:outputText id="dataInicio" rendered="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.isUpdate}"
									  value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.to.dataInicio}">
							<f:convertDateTime pattern="#{bundle['_nls.date.pattern.month.year']}" />
						</h:outputText>
						<h:panelGrid columns="5" border="0" cellspacing="0"
									 rendered="#{!basePapelAlocacaoController.custoBasePapelAlocacaoBean.isUpdate}">
							<rich:comboBox id="monthBeg" enableManualInput="false"
										   value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.validityMonthBeg}"
										   label="#{bundle['_nls.custo_base_papel_alocacao.mes.label']}"
										   defaultLabel="#{bundle['_nls.custo_base_papel_alocacao.mes.label']}"
										   required="true"
										   suggestionValues="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.validityMonthList}"
										   width="55"
							               disabled="true">
							</rich:comboBox>

							<rich:spacer height="5" width="3" styleClass="noMargin" />
							<h:outputText value="/" styleClass="labelGeneric" />
							<rich:spacer height="5" width="3" styleClass="noMargin" />

							<rich:comboBox id="yearBeg" enableManualInput="false"
										   value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.validityYearBeg}"
										   label="#{bundle['_nls.custo_base_papel_alocacao.ano.label']}"
										   defaultLabel="#{bundle['_nls.custo_base_papel_alocacao.ano.label']}"
										   required="true"
										   suggestionValues="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.validityYearList}"
										   width="55"
										   disabled="true">
							</rich:comboBox>
						</h:panelGrid>

						<h:outputText rendered="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.isUpdate}"
									  value="#{bundle['_nls.custo_base_papel_alocacao.data_fim.label']}: "
									  for="dataFim" styleClass="labelGeneric" />
						<h:outputText id="dataFim" rendered="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.isUpdate}"
									  value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.to.dataFim}">
							<f:convertDateTime pattern="#{bundle['_nls.date.pattern.month.year']}" />
						</h:outputText>

						<h:outputText
								value="#{bundle['_nls.custo_base_papel_alocacao.salary.label']} (#{basePapelAlocacaoController.bean.to.cidadeBase.moeda.siglaMoeda})*: "
								for="salary" styleClass="labelGeneric" />
						<h:inputText id="salary" size="15" maxlength="10"
									 label="#{bundle['_nls.custo_base_papel_alocacao.salary.label']}"
									 value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.to.valorSalario}"
									 required="true" immediate="true"  disabled="true">
							<f:validateLength maximum="10" />
							<a4j:support event="onchange" limitToList="true" reRender="salary" />
							<f:convertNumber locale="#{bundle['locale.en_us']}"
											 pattern="#{systemProperties['pattern.number']}" />
							<rich:jQuery timing="onload" selector="#salary"
										 query="setMask('#{bundle['jquery.monetary.pattern']}')" />
						</h:inputText>

						<h:outputText
								value="#{bundle['_nls.custo_base_papel_alocacao.benefit.label']} (#{basePapelAlocacaoController.bean.to.cidadeBase.moeda.siglaMoeda})*: "
								for="benefit" styleClass="labelGeneric" />
						<h:inputText id="benefit" size="15" maxlength="10"
									 label="#{bundle['_nls.custo_base_papel_alocacao.benefit.label']}"
									 value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.to.valorBeneficios}"  disabled="true">
							<f:validateLength maximum="10" />
							<a4j:support event="onchange" limitToList="true" reRender="benefit" />
							<f:convertNumber locale="#{bundle['locale.en_us']}"
											 pattern="#{systemProperties['pattern.number']}" />
							<rich:jQuery timing="onload" selector="#benefit"
										 query="setMask('#{bundle['jquery.monetary.pattern']}')" />
						</h:inputText>

						<h:outputText
								value="#{bundle['_nls.custo_base_papel_alocacao.tax.label']} (#{basePapelAlocacaoController.bean.to.cidadeBase.moeda.siglaMoeda})*: "
								for="tax" styleClass="labelGeneric" />
						<h:inputText id="tax" size="15" maxlength="10"
									 label="#{bundle['_nls.custo_base_papel_alocacao.tax.label']}"
									 value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.to.valorImpostos}"  disabled="true">
							<f:validateLength maximum="10" />
							<a4j:support event="onchange" limitToList="true" reRender="tax" />
							<f:convertNumber locale="#{bundle['locale.en_us']}"
											 pattern="#{systemProperties['pattern.number']}" />
							<rich:jQuery timing="onload" selector="#tax"
										 query="setMask('#{bundle['jquery.monetary.pattern']}')" />
						</h:inputText>

						<h:outputText
								value="#{bundle['_nls.custo_base_papel_alocacao.provisioning.label']} (#{basePapelAlocacaoController.bean.to.cidadeBase.moeda.siglaMoeda})*: "
								for="provisioning" styleClass="labelGeneric" />
						<h:inputText id="provisioning" size="15" maxlength="10"
									 label="#{bundle['_nls.custo_base_papel_alocacao.provisioning.label']}"
									 value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.to.valorProvisionamento}"  disabled="true">
							<f:validateLength maximum="10" />
							<a4j:support event="onchange" limitToList="true" reRender="provisioning" />
							<f:convertNumber locale="#{bundle['locale.en_us']}"
											 pattern="#{systemProperties['pattern.number']}" />
							<rich:jQuery timing="onload" selector="#provisioning"
										 query="setMask('#{bundle['jquery.monetary.pattern']}')" />
						</h:inputText>
					</h:panelGrid>
					<h:panelGrid columns="2" border="0" cellspacing="0"
								 rendered="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.isUpdate}">
						<h:selectBooleanCheckbox id="updateAllMonths"
												 label="#{bundle['_nls.custo_base_papel_alocacao.update_all_months_ahead.label']}"
												 value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.updateAllMonthsAhead}"  disabled="true"/>
						<h:outputText for="updateAllMonths"
									  value="#{bundle['_nls.custo_base_papel_alocacao.update_all_months_ahead.label']}" />
					</h:panelGrid>

				</h:panelGrid>

				<a4j:outputPanel id="resultPanel">
					<rich:spacer height="20" styleClass="noMargin"
								 rendered="#{!empty basePapelAlocacaoController.custoBasePapelAlocacaoBean.resultList}"/>
					<rich:dataTable
							value="#{basePapelAlocacaoController.custoBasePapelAlocacaoBean.resultList}"
							var="item" width="100%" id="custoBasePapelAlocacaoTable"
							rowKeyVar="row"
							rendered="#{!empty basePapelAlocacaoController.custoBasePapelAlocacaoBean.resultList}">

						<rich:column sortBy="#{item.dataInicio}"
									 style="text-align: center;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.data_inicio.label']}" />
							</f:facet>
							<h:outputText value="#{item.dataInicio}">
								<f:convertDateTime pattern="MMM/yyyy" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.dataFim}" style="text-align: center;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.data_fim.label']}" />
							</f:facet>
							<h:outputText value="#{item.dataFim}">
								<f:convertDateTime pattern="MMM/yyyy" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.valorSalario}"
									 style="text-align: right;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.salary.label']}" />
							</f:facet>
							<h:outputLabel
									value="#{item.basePapelAlocacao.cidadeBase.moeda.siglaMoeda} " />
							<h:outputText value="#{item.valorSalario}">
								<f:convertNumber locale="#{bundle['locale.en_us']}"
												 pattern="#{systemProperties['pattern.number']}" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.valorBeneficios}"
									 style="text-align: right;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.benefit.label']}" />
							</f:facet>
							<h:outputLabel
									value="#{item.basePapelAlocacao.cidadeBase.moeda.siglaMoeda} " />
							<h:outputText value="#{item.valorBeneficios}">
								<f:convertNumber locale="#{bundle['locale.en_us']}"
												 pattern="#{systemProperties['pattern.number']}" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.valorImpostos}"
									 style="text-align: right;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.tax.label']}" />
							</f:facet>
							<h:outputLabel
									value="#{item.basePapelAlocacao.cidadeBase.moeda.siglaMoeda} " />
							<h:outputText value="#{item.valorImpostos}">
								<f:convertNumber locale="#{bundle['locale.en_us']}"
												 pattern="#{systemProperties['pattern.number']}" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.valorProvisionamento}"
									 style="text-align: right;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.provisioning.label']}" />
							</f:facet>
							<h:outputLabel
									value="#{item.basePapelAlocacao.cidadeBase.moeda.siglaMoeda} " />
							<h:outputText value="#{item.valorProvisionamento}">
								<f:convertNumber locale="#{bundle['locale.en_us']}"
												 pattern="#{systemProperties['pattern.number']}" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.valorBasePapelAlocacao}"
									 style="text-align: right;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.valor.label']}" />
							</f:facet>
							<h:outputLabel
									value="#{item.basePapelAlocacao.cidadeBase.moeda.siglaMoeda} " />
							<h:outputText value="#{item.valorBasePapelAlocacao}">
								<f:convertNumber locale="#{bundle['locale.en_us']}"
												 pattern="#{systemProperties['pattern.number']}" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.lastUpdated}" style="text-align: center;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.last_update.label']}" />
							</f:facet>
							<h:outputText value="#{item.lastUpdated}">
								<f:convertDateTime timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy HH:mm:ss" />
							</h:outputText>
						</rich:column>

						<rich:column sortBy="#{item.updateAuthor}" style="text-align: center;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.update_author.label']}" />
							</f:facet>
							<h:outputText value="#{item.updateAuthor}" />
						</rich:column>

						<rich:column style="text-align: center;">
							<f:facet name="header">
								<h:outputText
										value="#{bundle['_nls.custo_base_papel_alocacao.actions.label']}" />
							</f:facet>
							-
						</rich:column>

					</rich:dataTable>
				</a4j:outputPanel>
			</h:form>
		</rich:panel>
	</ui:define>

</ui:composition>

</html>