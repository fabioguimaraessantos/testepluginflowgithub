<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j">

<c:set var="ctxPath"
       value="#{facesContext.externalContext.requestContextPath}"
       scope="request"/>
<head>
    <title>
        <ui:insert name="title">#{bundle['_nls.login.title']}</ui:insert>
    </title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <meta name="robots" content="noindex"/>
    <link rel="stylesheet" href="${ctxPath}/css/styles.css" type="text/css"></link>
    <link rel="stylesheet" href="${ctxPath}/css/global.css" type="text/css"></link>
    <!--[if lte IE 6]>
    <script type="text/javascript" src="js/iepngfix.js"></script>
    <![endif]-->

    <style type="text/css">
table.scrollTableMap {
	border-collapse: inherit;
	border-width: 0px 1px 1px 0px;
}

table.scrollTableMap th,table.scrollTableMap td {
	padding: 4px;
}

table.scrollTableMap tbody {
	overflow-y: scroll;
	overflow-x: hidden;
}

    </style>

    <!--[if IE]>
    <style type="text/css">
		        div.scrollTableDiv {
		            position: relative;
		            height: 360px;
		            width: 660px;
		            overflow-y: scroll;
		            overflow-x: hidden;
		            border: solid;
		            border-width: 0px 0px 1px 0px;
		        }
		        div.scrollTableDiv table {
		            border-width: 1px 1px 0px 0px;
		        }
		        div.scrollTableDiv thead tr {
		            position: absolute;
		            top: expression(this.offsetParent.scrollTop);
		        }
		        div.scrollTableDiv tbody {
		            height: auto;
		        }
		        div.scrollTableDiv table tbody tr:first-child td {
		            padding: 29px 4px 4px 4px;
		        }

    </style>
    <![endif]-->

    <style>
.pic {
	margin-bottom: -4px;
	margin-right: 2px;
}

.search .rich-menu-item-hover {
	background-color: transparent;
	border-color: transparent;
}

    </style>
    <link rel="SHORTCUT ICON" href="${ctxPath}/favicon.ico"></link>
    <!--Start of Zendesk Chat Script-->
    <script type="text/javascript">

    window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=
                  d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.
                  _.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute("charset","utf-8");
                  $.src="//v2.zopim.com/?3VumTw0Zws6hpUN9PSeatFZlH7AKAut0";z.t=+new Date;$.
                  type="text/javascript";e.parentNode.insertBefore($,e)
                  $zopim(function () {
                      $zopim.livechat.setLanguage('en-US');
                      $zopim.livechat.offlineForm.setGreetings('We are currently offline. Please leave us a message.');
                      $zopim.livechat.setGreetings('Welcome to PMS! If you have any question, let me know!');
                      $zopim.livechat.addTags('PMS');
                      $zopim.livechat.departments.filter('IT VSM Management','Controllership','Business Intelligence');
                      $zopim.livechat.departments.setVisitorDepartment('IT VSM Management');
                      $zopim.livechat.theme.setColor('#BED6F8');
                      $zopim.livechat.bubble.setColor('#BED6F8');
                      $zopim.livechat.window.setPosition('br');
                      $zopim.livechat.button.setPosition('br');
                      $zopim.livechat.window.hide();
                      $zopim.livechat.theme.reload();
                  });
                })(document,"script");

    </script>
	<!--End of Zendesk Chat Script-->
</head>

<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"
      id="body-login">

<div id="container">
    <div id="login">
        <div id="left">
            <div id="logotype">
                <p>PMS</p>
            </div>
            <div id="logotype-cit">
                <p>Ci&amp;T</p>
            </div>
        </div>
        <div id="right">
            <h:form prependId="false">
                <a4j:keepAlive beanName="loginBean"/>
                <fieldset class="login-form">
                    <h2>#{bundle['_nls.login.label.login']}</h2>

                    <div class="message">
                        <h:panelGroup
                                rendered="#{facesContext.maximumSeverity!=null}">
                            <p>
                                <rich:messages errorClass="msgError" warnClass="msgWarng"
                                               infoClass="msgSuccess" layout="table" ajaxRendered="true">
                                </rich:messages>
                            </p>
                        </h:panelGroup>
                    </div>
                    <p>
                        <h:outputLabel value="#{bundle['_nls.login.label.login']}"
                                       for="j_username"/>
                        <h:inputText
                                label="#{bundle['_nls.login.label.login']}"
                                onkeyup="this.value = this.value.toLowerCase();" id="j_username"
                                value="#{loginBean.username}" maxlength="30" size="15"
                                validator="#{xssValidator.validate}"
                                styleClass="loginFormInput">

                        </h:inputText>
                    </p>
                    <p>
                        <h:outputLabel value="#{bundle['_nls.login.label.password']}"
                                       for="j_password"/>
                        <h:inputSecret redisplay="true"
                                       label="#{bundle['_nls.login.label.password']}" id="j_password"
                                       styleClass="loginFormInput" value="#{loginBean.password}"
                                       validator="#{xssValidator.validate}"
                                       maxlength="50" size="15"/>
                    </p>
                    <div align="right">

                        <h:panelGrid id="staySignedInGrid" columns="2">
                            <h:selectBooleanCheckbox id="staySignedIn"
                                                     value="#{loginBean.staySignedIn}" styleClass="noMargin"/>
                            <h:outputText value="#{bundle['_nls.stay_signed_in.label']}"
                                          for="staySignedIn" styleClass="labelLoading"/>
                        </h:panelGrid>
                    </div>

                    <div id="button">
                        <p>
                            <h:commandButton tabindex="0" action="#{loginBean.doLogin}"
                                             value="#{bundle['_nls.button.ok']}"/>
                        </p>
                        <h:commandButton id="btnCookie" value="#{bundle['_nls.button.ok']}"
                                         action="#{loginBean.init}" disabled="#{loginBean.cookieVerificado}"
                                         style="display: none"/>
                    </div>
                </fieldset>
            </h:form>
        </div>
    </div>
</div>

</body>

</html>